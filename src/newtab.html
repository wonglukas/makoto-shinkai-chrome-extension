<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>New Tab</title>
    <link rel="stylesheet" href="newtab.css" />
  </head>

  <body>
    <div id="bg" aria-hidden="true"></div>
    <div id="dim" aria-hidden="true"></div>

    <main>
      <section id="clock" aria-label="Time and date">
        <div id="timeRow">
          <span id="time" aria-label="Time"></span>
          <span id="ampm" aria-label="AM/PM"></span>
        </div>
        <div id="date" aria-label="Date"></div>
      </section>

      <form id="searchForm" action="https://www.google.com/search" method="get">
        <input
          id="searchInput"
          name="q"
          type="search"
          placeholder="Search Google"
          autocomplete="on"
          spellcheck="false"
          autofocus
        />
      </form>

      <button id="settingsBtn" type="button" aria-label="Settings" title="Settings">
        ⚙
      </button>

      <aside id="settingsPanel" hidden aria-label="Settings">
        <header class="settingsHeader">
          <h2 class="settingsTitle">Settings</h2>
          <button id="settingsClose" type="button" aria-label="Close">✕</button>
        </header>

        <section class="settingsSection" aria-label="Appearance">
          <h3 class="sectionTitle">Appearance</h3>

          <div class="settingBlock">
            <div class="settingTop">
              <div class="settingName">Brightness</div>
              <div class="settingValue"><span id="dimLabel">6</span>/10</div>
            </div>
            <input id="dimSlider" type="range" min="0" max="10" step="1" value="6" />
          </div>

          <div class="settingBlock">
            <div class="settingTop">
              <div class="settingName">Background Blur</div>
              <div class="settingValue"><span id="blurLabel">0</span>/10</div>
            </div>
            <input id="blurSlider" type="range" min="0" max="10" step="1" value="0" />
          </div>
        </section>

        <section class="settingsSection" aria-label="Credits">
          <h3 class="sectionTitle">Credits</h3>
          <a
            id="creditLink"
            href="https://www.cwfilms.jp/en/products/#makotoshinkai"
            target="_blank"
            rel="noopener noreferrer"
          >
            Makoto Shinkai films
          </a>
        </section>

        <section class="settingsSection" aria-label="Wallpapers">
          <h3 class="sectionTitle">Wallpapers</h3>

          <button
            id="wallpapersBtn"
            class="panelBtn"
            type="button"
            aria-expanded="false"
            aria-controls="wallpapersPanel"
          >
            <span>Choose films</span>
            <span class="chev" aria-hidden="true">▾</span>
          </button>

          <div id="wallpapersPanel" class="subPanel" hidden>
            <div id="folderList" class="folderList"></div>
          </div>
        </section>
      </aside>
    </main>

    <div id="sourceLabel" aria-live="polite"></div>

    <script type="module" src="./newtab.js"></script>
  </body>
</html>
